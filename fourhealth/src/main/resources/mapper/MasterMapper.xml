<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fourhealth.mapper.MasterMapper">
	<resultMap type="UserReportDto" id="resultMapReport">
		<result column="report_user_code" property="reportUserCode"/>
		<result column="report_title" property="reportTitle"/>
		<result column="trainer_user_matching_code" property="trainerUserMatchingCode"/>
		<result column="user_id" property="userId"/>
		<result column="report_user_reason_detail" property="reportUserReasonDetail"/>
		<result column="report_user_reg_date" property="reportUserRegDate"/>
	</resultMap>
	<!--사용자 데이터 resultMap  -->
    <resultMap type="TrainerDto" 				id="resultMapTrainer">
        <result column="user_id" 						property="userId"/>
        <result column="trainer_platform_grade_code" 	property="trainerPlatformGradeCode"/>
        <result column="trainer_access_code"			property="trainerAccessCode"/>
        <result column="trainer_gym" 					property="trainerGym"/>
        <result column="trainer_gym_address" 			property="trainerGymAddress"/>
        <result column="trainer_access_reason"			property="trainerAccessReason"/>
        <result column="trainer_access_reg_date" 		property="trainerAccessRegDate"/>
        <result column="trainer_reg_date" 				property="trainerRegDate"/>
    </resultMap>

	<!-- 관리자 단에서 신고 목록 리스트 보여주기 -->
	<select id="reportList" resultMap="resultMapReport">
	SELECT report_user_code
		, report_title
		, user_id
		, report_user_reason_detail
		, report_user_reg_date
	FROM tb_user_report
	</select>
    
    <update id="masterTrainerAccess" parameterType="String" >
    	UPDATE 
    		tb_trainer
		SET
			trainer_access_reg_date=NOW()
		WHERE
			user_id=#{userId};
    </update>

</mapper>